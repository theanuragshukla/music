function addcards(){for(var n=0,t=[],r,u;n<songs.length;){var i=songs[n].name,f=data.find(n=>n.id===i).title,e=data.find(n=>n.id===i).artist;t.push(list(n,f,e));n++}r=t.join("");u=$(r);$("#content").prepend(u)}function openSearch(){$("#name").toggleClass("searchActive");$("#searchBar").toggleClass("searchActive");$("#searchBar").val("");$("#searchBar").hasClass("searchActive")?$("#searchBar").blur():$("#searchBar").focus();$(".cardlist").each(function(){$(this).css("display","")})}function openSideNav(){$("#sideNav").toggleClass("navActive");$("#navdiv").toggleClass("navdivActive")}function transition(){$("#player").css("transition","0.5s")}function slideUp(n){var t=document.getElementById("player").classList.contains("slideUp");t==!0&&($(n).css("border-width","0px"),$(n).css("height","0vh"),$(n).toggleClass("slideUp"),$("#up").css("transform","rotate(0deg)"));t==!1&&($(n).css("height","70vmin"),$(n).css("border-width","2px"),$(n).toggleClass("slideUp"),$("#up").css("transform","rotate(180deg)"))}function search(){for(var t=$(".content>.cardlist"),i=$("#searchBar").val().toUpperCase(),n=0;n<=t.length-1;n++)t[n].style.display=t[n].innerHTML.toUpperCase().indexOf(i)!=-1?"":"none"}function playselected(n){var t=data.find(t=>t.id===songs[n].name).title,i=data.find(t=>t.id===songs[n].name).artist,r;aud.src=songs[n].url;$(`#cardlist${lastsong}`).css("background","");lastsong=n;$(`#cardlist${lastsong}`).css("background","#501f3a");$("#title").html(t);$("#artist").html(i);r=art.find(n=>n.name===songs[lastsong].name+"_192").url;$("#artwork").attr("src",r);$(".footertitle").html(t);$(".footerauthor").html(i);isPlaying&&play();setLyrics(n);duration();play()}function next(){var n,t,i;isPlaying;$(`#cardlist${lastsong}`).css("background","");lastsong+=1;$(`#cardlist${lastsong}`).css("background","#501f3a");lastsong>songs.length-1&&($(`#cardlist${lastsong}`).css("background",""),lastsong=0,$(`#cardlist${lastsong}`).css("background","#501f3a"));status="playing";setNots(lastsong,status);aud.src=songs[lastsong].url;n=data.find(n=>n.id===songs[lastsong].name).title;t=data.find(n=>n.id===songs[lastsong].name).artist;$("#title").html(n);$("#artist").html(t);i=art.find(n=>n.name===songs[lastsong].name+"_192").url;$("#artwork").attr("src",i);$(".footertitle").html(n);$(".footerauthor").html(t);setLyrics(lastsong);play()}function prev(){var n,t,i;isPlaying;$(`#cardlist${lastsong}`).css("background","");lastsong-=1;$(`#cardlist${lastsong}`).css("background","#501f3a");lastsong<0&&($(`#cardlist${lastsong}`).css("background",""),lastsong=songs.length-1,$(`#cardlist${lastsong}`).css("background","#501f3a"));n=data.find(n=>n.id===songs[lastsong].name).title;t=data.find(n=>n.id===songs[lastsong].name).artist;status="playing";setNots(lastsong,status);aud.src=songs[lastsong].url;$("#title").html(n);$("#artist").html(t);$(".footertitle").html(n);i=art.find(n=>n.name===songs[lastsong].name+"_192").url;$("#artwork").attr("src",i);$(".footerauthor").html(t);setLyrics(lastsong);play()}function play(){var n=aud.currentTime>0&&!aud.paused&&!aud.ended&&aud.readyState>2;n==!1?(aud.play(),status="playing",$("#playbtn").html("<path d='M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z'>"),$("#footerplaybtn").html("<path d='M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z'>")):(aud.pause(),status="paused",$("#playbtn").html("<path d='M11.596 8.697l-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z'/>"),$("#footerplaybtn").html("<path d='M11.596 8.697l-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z'/>"));setNots(lastsong,status)}function mint(){var n=aud.currentTime>0&&!aud.paused&&!aud.ended&&aud.readyState>2;n&&(aud.currentTime=aud.currentTime-10)}function maxt(){var n=aud.currentTime>0&&!aud.paused&&!aud.ended&&aud.readyState>2;aud.currentTime=aud.currentTime+10}function duration(){aud.onloadedmetadata=function(){let u=aud.duration,f=aud.currentTime,n=Math.floor(f/60),i=Math.floor(f-n*60),t=Math.floor(u/60),r=Math.floor(u-t*60);i<10&&(i="0"+i);r<10&&(r="0"+r);n<10&&(n="0"+n);t<10&&(t="0"+t);$("#curr").text(n+":"+i);$("#dur").text(t+":"+r);$("#footercurr").text(n+":"+i);$("#footerdur").text(t+":"+r)}}function stop(){aud.pause();$("#playbtn").html("<path d='M11.596 8.697l-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z'/>");$("#footerplaybtn").html("<path d='M11.596 8.697l-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z'/>");status="paused";setNots(lastsong,status);aud.currentTime=0}function seekTo(n){seekto=aud.duration*(n.value/100);aud.currentTime=seekto;let r=aud.currentTime,t=Math.floor(r/60),i=Math.floor(r-t*60);i<10&&(i="0"+i);t<10&&(t="0"+t,$("#curr").text(t+":"+i))}function curr(){let i=aud.currentTime,n=Math.floor(i/60),t=Math.floor(i-n*60);t<10&&(t="0"+t);n<10&&(n="0"+n,$("#curr").text(n+":"+t),$("#footercurr").text(n+":"+t),$(".seek_slider").value=aud.currentTime*"100"/aud.duration,$(".footer_seek_slider").value=aud.currentTime*"100"/aud.duration)}function seekUpdate(){let u=0;u=aud.currentTime*(100/aud.duration);let f=document.querySelector(".seek_slider");f.value=u;let e=document.querySelector(".footer_seek_slider");e.value=u;let n=Math.floor(aud.currentTime/60),i=Math.floor(aud.currentTime-n*60),t=Math.floor(aud.duration/60),r=Math.floor(aud.duration-t*60);i<10&&(i="0"+i);r<10&&(r="0"+r);n<10&&(n="0"+n);t<10&&(t="0"+t);$("#curr").text(n+":"+i);$("#dur").text(t+":"+r);$("#footercurr").text(n+":"+i);$("#footerdur").text(t+":"+r)}function setNots(n,t){var r=data.find(t=>t.id===songs[n].name).title,u=data.find(t=>t.id===songs[n].name).artist,i=songs[n].name;"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:r,artist:u,artwork:[{src:art.find(n=>n.name===i+"_96").url,sizes:"96x96",type:"image/jpg"},{src:art.find(n=>n.name===i+"_128").url,sizes:"128x128",type:"image/jpg"},{src:art.find(n=>n.name===i+"_192").url,sizes:"192x192",type:"image/jpg"},{src:art.find(n=>n.name===i+"_256").url,sizes:"256x256",type:"image/jpg"},{src:art.find(n=>n.name===i+"_384").url,sizes:"384x384",type:"image/jpg"},{src:art.find(n=>n.name===i+"_512").url,sizes:"512x512",type:"image/jpg"},]}),navigator.mediaSession.playbackState=t)}function getIndex(n){return data.map(function(n){return n.name}).indexOf(n)}function getArtIndex(n,t){return t.map(function(n){return n.name}).indexOf(n)}function switchCategory(n){lastsong=0;Array.from(document.querySelectorAll(".activeCategory")).forEach(n=>n.classList.remove("activeCategory"));n.classList.add("activeCategory");content.innerHTML="";currentCategory=n.id;n.id=="hindi"&&(songs=window[`songsHi${quality}`],data=dataHi,art=artHi);n.id=="english"&&(songs=window[`songsEn${quality}`],data=dataEn,art=artEng);addcards()}function setLyrics(n){if("lyrics"in data[n]==!0){var t=data.find(t=>t.id===songs[n].name).lyrics;t=="null"?$("#sideNav").text("Sorry, Lyrics for this song is not available yet"):($("#sideNav").text(" "),document.getElementById("sideNav").innerText=t)}else $("#sideNav").text("You don't need the lyrics for this song. I know that")}function qChange(n){var t,i,r;quality=n.value;content.innerHTML="";t=songs[lastsong].name;i=aud.currentTime;currentCategory=="hindi"?(songs=window[`songsHi${quality}`],data=dataHi,art=artHi):currentCategory=="english"&&(songs=window[`songsEn${quality}`],data=dataEn,art=artEng);r=songs.findIndex(n=>n.name===t);addcards();playselected(r);aud.currentTime=i}function setVolume(n){aud.volume=n/100}var lastsong=0,aud=new Audio,status="playing",content=document.getElementById("content"),songs=songsEn44,data=dataEn,art=artEng,quality=44,currentCategory="english",list=function(n,t,i){var r=art.find(t=>t.name===songs[n].name+"_96").url;return`<div class="cardlist" id ="cardlist${n}" onclick="playselected(${n})"> 
       <div  class ="art"><img class="art" alt ="artwork" src="${r}" loading="lazy"/></div>
       <div class ="details">
       <div class="titlelist">${t}</div>        
      <div class="authorlist">${i}</div>
       </div>  
       </div>`},isPlaying=aud.currentTime>0&&!aud.paused&&!aud.ended&&aud.readyState>2;setInterval(seekUpdate,1e3);aud.onended=function(){aud.currentTime=0;$("#playbtn").html("<path d='M11.596 8.697l-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z'/>");$("#footerplaybtn").html("<path d='M11.596 8.697l-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z'/>");next()};const actionHandlers=[["play",()=>{play()}],["pause",()=>{play()}],["previoustrack",()=>{prev()}],["nexttrack",()=>{next()}],["stop",()=>{stop()}],["seekbackward",()=>{mint()}],["seekforward",()=>{maxt()}],["seekto",()=>{}],];for(const[n,t]of actionHandlers)try{navigator.mediaSession.setActionHandler(n,t)}catch(error){console.log(`The media session action "${n}" is not supported yet.`)}